<!DOCTYPE html>
<html lang="es">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="https://jgsogo.es/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://jgsogo.es/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="https://jgsogo.es/theme/css/font-awesome.min.css">
  <link href="https://jgsogo.es/static/custom.css" rel="stylesheet">
  <link href="https://jgsogo.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Javier G. Sogo's blog Atom">
  <link rel="shortcut icon" href="http://localhost:8000/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="http://localhost:8000/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
<meta name="author" content="Javier G. Sogo" />
<meta name="description" content="Una fuente de información importantísima para el proyecto RENFE son los horarios de los trenes, gracias a ellos he podido estimar la zona que debe ocupar cada estación (algoritmo de trilateración) identificando errores de posicionamiento gracias a los tiempos de circulación entre estaciones. Sin embargo, esta información no es facilitada …" />
<meta name="keywords" content="renfe, railway, geo, cartodb">
<meta property="og:site_name" content="Javier G. Sogo's blog"/>
<meta property="og:title" content="Circulaciones de trenes (RENFE)"/>
<meta property="og:description" content="Una fuente de información importantísima para el proyecto RENFE son los horarios de los trenes, gracias a ellos he podido estimar la zona que debe ocupar cada estación (algoritmo de trilateración) identificando errores de posicionamiento gracias a los tiempos de circulación entre estaciones. Sin embargo, esta información no es facilitada …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://jgsogo.es/renfe-project-trains.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-09-01 15:00:00+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://jgsogo.es/author/javier-g-sogo.html">
<meta property="article:section" content="Projects"/>
<meta property="article:tag" content="renfe"/>
<meta property="article:tag" content="railway"/>
<meta property="article:tag" content="geo"/>
<meta property="article:tag" content="cartodb"/>
<meta property="og:image" content="http://localhost:8000/images/profile.png">  <title>Javier G. Sogo's blog &ndash; Circulaciones de trenes (RENFE)</title>
</head>
<body>
  <aside>
    <div>
      <a href="https://jgsogo.es">
        <img src="http://localhost:8000/images/profile.png" alt="Javier G. Sogo" title="Javier G. Sogo">
      </a>
      <h1><a href="https://jgsogo.es">Javier G. Sogo</a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="https://jgsogo.es/pages/contact.html#contact">Contacto</a></li>
          <li><a href="https://jgsogo.es/pages/about-me.html#about-me">Yo, mí, me, conmigo</a></li>
          <li><a href="http://lingwars.github.io/blog/" target="_blank">Lingẅars</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-linkedin" href="https://es.linkedin.com/in/jgsogo" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/jgsogo" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/jgsogo" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-rss" href="http://localhost:8000feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="https://jgsogo.es">Home</a>
      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="https://jgsogo.es/feeds/all.atom.xml">Atom</a>
    </nav>

<article>
  <header>
    <h1 id="renfe-project-trains">Circulaciones de trenes (RENFE)</h1>
    <p>Posted on Tue 01 September 2015 in <a href="https://jgsogo.es/category/projects.html">Projects</a></p>
  </header>
  <div>
    
<p>Una fuente de información importantísima para el <a class="reference external" href="https://jgsogo.es/renfe-project.html">proyecto RENFE</a> son los horarios de los trenes, gracias a
ellos he podido estimar la zona que debe ocupar cada estación (algoritmo de trilateración) identificando
errores de posicionamiento gracias a los tiempos de circulación entre estaciones. Sin embargo, esta
información no es facilitada por RENFE en un formato adecuado sino que hay que extraerla a través de los
formularios de su web. Podéis haceros una idea de la técnica empleada.</p>
<div class="figure align-center">
<img alt="Horario del tren MD 18001." src="https://jgsogo.es/images/renfe-trains-timetable.png"/>
<p class="caption">Horario del tren MD 18001 entre Madrid y Valladolid (Fuente: <a class="reference external" href="http://horarios.renfe.com/HIRRenfeWeb/recorrido.do?O=17000&amp;D=10600&amp;F=01-09-2015&amp;T=18001&amp;G=1&amp;TT=MD&amp;ID=s&amp;FDS=2015-06-14&amp;DT=2%20h.%2052%20min.">RENFE</a>).</p>
</div>
<p>De esta forma, a través de la web de RENFE, puedo conocer en qué estaciones hace parada cada tren y los horarios
de llegada y de salida. En total, a lo largo de una semana, he obtenido que se mueven unas 1100
composiciones distintas desde 5500 cabeceras. ¿Muchas? ¿Pocas? Eso lo podremos ver en el mapa dinámico con
los movimientos de los trenes.</p>
<div class="section" id="los-trenes">
<h2><a class="toc-backref" href="#id1">Los trenes</a></h2>
<div class="section" id="tipos-de-trenes">
<h3><a class="toc-backref" href="#id2">Tipos de trenes</a></h3>
<p>Me ha sorprendido la cantidad de tipos de trenes que aparecen. La lista completa la forman 26 tipos distintos: <tt class="docutils literal">ALSA</tt>,
<tt class="docutils literal">ALSINA</tt>, <tt class="docutils literal">ALTARIA</tt>, <tt class="docutils literal">ALVIA</tt>, <tt class="docutils literal">AV City</tt>, <tt class="docutils literal">AVANT</tt>, <tt class="docutils literal">AVE</tt>, <tt class="docutils literal"><span class="pre">AVE-TGV</span></tt>, <tt class="docutils literal">BAILE BUS</tt>, <tt class="docutils literal">BUS ALOSA</tt>,
<tt class="docutils literal">CERCANIAS</tt>, <tt class="docutils literal">EUROMED</tt>, <tt class="docutils literal">FRS</tt>, <tt class="docutils literal">INTERCITY</tt>, <tt class="docutils literal"><span class="pre">LD-AVE</span></tt>, <tt class="docutils literal">MD</tt>, <tt class="docutils literal">R. EXPRES</tt>, <tt class="docutils literal">REG ESP</tt>, <tt class="docutils literal">REG EXP</tt>,
<tt class="docutils literal">REG. EXP</tt>, <tt class="docutils literal">REG. EXP.</tt>, <tt class="docutils literal">REGIONAL</tt>, <tt class="docutils literal">TALGO</tt>, <tt class="docutils literal">TRENCELTA</tt>, <tt class="docutils literal">TRENHOTEL</tt> y <tt class="docutils literal">VIA ESTRE</tt>. Se puede observar
que los nombres no están homogeneizados (hay cinco forma de hacer referencia a los Regional Express) y además, me
ha sorprendido mucho ver que RENFE opera algunos autobuses ¡!.</p>
<p>El caso es que tanta fragmentación no es útil, yo he decidido agruparlos en las tipologías clásicas más
próximas al entendimiento común:</p>
<ul class="simple">
<li>AVE: <tt class="docutils literal">AVE</tt>, <tt class="docutils literal"><span class="pre">AVE-TGV</span></tt>, <tt class="docutils literal"><span class="pre">LD-AVE</span></tt>, <tt class="docutils literal">AV City</tt>.</li>
<li>Alta Velocidad (no AVE): <tt class="docutils literal">ALTARIA</tt>, <tt class="docutils literal">ALVIA</tt>, <tt class="docutils literal">AVANT</tt>, <tt class="docutils literal">EUROMED</tt>.</li>
<li>Larga distancia: <tt class="docutils literal">TALGO</tt>, <tt class="docutils literal">TRENHOTEL</tt></li>
<li>Media distancia: <tt class="docutils literal">INTERCITY</tt>, <tt class="docutils literal">MD</tt>.</li>
<li>Regionales: <tt class="docutils literal">R. EXPRES</tt>, <tt class="docutils literal">REG ESP</tt>, <tt class="docutils literal">REG EXP</tt>, <tt class="docutils literal">REG. EXP</tt>, <tt class="docutils literal">REG. EXP.</tt>, <tt class="docutils literal">REGIONAL</tt>.</li>
<li>Cercanías: <tt class="docutils literal">CERCANIAS</tt></li>
<li>Otros trenes: <tt class="docutils literal">TRENCELTA</tt>, <tt class="docutils literal">VIA ESTRE</tt></li>
<li>Autobuses: <tt class="docutils literal">ALSA</tt>, <tt class="docutils literal">ALSINA</tt>, <tt class="docutils literal">BAILE BUS</tt>, <tt class="docutils literal">BUS ALOSA</tt>.</li>
<li>Ferry: <tt class="docutils literal">FRS</tt></li>
</ul>
</div>
<div class="section" id="horarios-de-trenes">
<h3><a class="toc-backref" href="#id3">Horarios de trenes</a></h3>
<p>Una vez obtenida la información de RENFE, he preparado unas clases para acceder a los datos de forma ordenada,
de tal forma que se puedan hacer las consultas por identificador de tren, por parada, día de la semana,...</p>
<p>Gracias a estos horarios también puedo estimar las distancias entre estaciones y ayudar al algoritmo de
posicionamiento de las mismas a detectar errores.</p>
</div>
<div class="section" id="trenes-compuestos">
<h3><a class="toc-backref" href="#id4">Trenes compuestos</a></h3>
<p>Un problema que he encontrado y que aún no he resuelto son los trenes que se unen o se separan en ciertas
estaciones, ocurre a menudo con los de alta velocidad que suben a Galicia. La dificultad radica en que estos
trenes tienen el mismo identificador durante todo su recorrido para ambas ramas.</p>
<p>Otra cosa más de trabajo pendiente :/</p>
</div>
</div>
<div class="section" id="mas-sobre-el-proyecto">
<h2><a class="toc-backref" href="#id5">Más sobre el proyecto</a></h2>
<p>El proyecto se desarrolla en los siguientes artículos:</p>
<ul class="simple">
<li>Mapa dinámico de circulaciones (<a class="reference external" href="https://jgsogo.es/renfe-project.html">ver artículo</a>).</li>
<li>Geolocalización de estaciones (ADIF) (<a class="reference external" href="https://jgsogo.es/renfe-project-geo-stations.html">ver artículo</a>).</li>
<li>La infraestructura ferroviaria (ADIF) (<a class="reference external" href="https://jgsogo.es/renfe-project-lines.html">ver artículo</a>).</li>
<li>Circulaciones de trenes (RENFE)</li>
</ul>
</div>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://jgsogo.es/tag/renfe.html">renfe</a>
      <a href="https://jgsogo.es/tag/railway.html">railway</a>
      <a href="https://jgsogo.es/tag/geo.html">geo</a>
      <a href="https://jgsogo.es/tag/cartodb.html">cartodb</a>
    </p>
  </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jgsogoes';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

    <footer>
<p>
  &copy; Javier G. Sogo 2021 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Circulaciones de trenes (RENFE)",
  "headline": "Circulaciones de trenes (RENFE)",
  "datePublished": "2015-09-01 15:00:00+02:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Javier G. Sogo",
    "url": "https://jgsogo.es/author/javier-g-sogo.html"
  },
  "image": "http://localhost:8000/images/profile.png",
  "url": "https://jgsogo.es/renfe-project-trains.html",
  "description": "Una fuente de información importantísima para el proyecto RENFE son los horarios de los trenes, gracias a ellos he podido estimar la zona que debe ocupar cada estación (algoritmo de trilateración) identificando errores de posicionamiento gracias a los tiempos de circulación entre estaciones. Sin embargo, esta información no es facilitada …"
}
</script></body>
</html>